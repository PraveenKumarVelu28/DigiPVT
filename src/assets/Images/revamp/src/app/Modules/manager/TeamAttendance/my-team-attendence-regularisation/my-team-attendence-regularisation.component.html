<app-commonalertpage [messageId]="messageId" *ngIf="showPopup==1"></app-commonalertpage>
<div class="container-fluid">
    <div class="row">
        <div class="col-lg-12">
            <ul>
                <li><a class="active Heading" routerLink="/Employee/AttendanceView">My regularization list</a></li>
                <li *ngIf="roleid==2"><a class="leavelist Heading"
                        routerLink="/Manager/MyTeamAttendenceRegularisation"><u>My team regularization</u>
                    </a>
                </li>
                <li *ngIf="roleid==9"><a class="leavelist Heading"
                        routerLink="/Manager/MyTeamAttendenceRegularisation"><u>Company
                            regularization List</u>
                    </a>
                </li>
            </ul>
        </div>
    </div>
    <br>
    <div class="card cardpadding">
        <div class="row leavereq">
            <div class="col-md-3">
                <p>Date</p>
            </div>
        </div>
        <div class="row leavereq">
            <div class="col-md-3">
                <input type="date" id="date" name="date" [(ngModel)]="date" class="form-control">
            </div>
            <div class="col-md-2">
                <button type="button" class="btn" (click)="currentweek()">Current
                    Week</button>
            </div>
            <div class="col-md-2">
                <button type="button" class="btn" (click)="currentmonth()">Current Month
                </button>
            </div>
        </div>
    </div><br>
    <div class="row">
        <br />
        <div class="col-lg-12 dashbutton bttn">
            <div class="tab-slider--nav">
                <ul class="tab-slider--tabs">
                    <li class="tab-slider--trigger" [class.active]="viewMode == 'tab1'" rel="tab1"
                        (click)="viewMode ='tab1'">
                        Open </li>
                    <li class="tab-slider--trigger" [class.active]="viewMode == 'tab2'" rel="tab2"
                        (click)="viewMode ='tab2'">Regularized</li>
                    <li class="tab-slider--trigger" [class.active]="viewMode == 'tab3'" rel="tab3"
                        (click)="viewMode ='tab3'">Rejected</li>
                </ul>
            </div>
        </div>
    </div>
    <div class="container-fluid">
        <div class="row">
            <div class="tab-slider--container" [ngSwitch]="viewMode">
                <div *ngSwitchCase="'tab1'" id="tab1">
                    <div class="row">
                        <div class="col-md-10">
                            <br>
                            <p class="show3res">SHOWING <span> {{attendancelist1?.length}} </span>RESULTS
                            </p>
                        </div>
                        <div class="col-md-2">
                            <!-- <a><button *ngIf="selecallbtn" class="form-control AddExpense"
                                    (click)="Approveall()">Approve All
                                </button></a> -->
                            <button *ngIf="selecallbtn" (click)="Approveall()" class="button btnwd" type="button"
                                id="btn_button">Approve Selected</button>
                        </div>
                    </div><br>
                    <div class="row">
                        <div class="col-md-12">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <!-- <th *ngIf="roleid==2">Select All <input type="checkbox" name="select-all"
                                                id="select-all" (click)="selectALL(true)" /></th> -->
                                        <th><input type="checkbox" (click)="selectALL($event)"></th>
                                        <th>Date</th>
                                        <th>Employee Name</th>
                                        <th>Shift</th>
                                        <th>Expected In Time</th>
                                        <th>Punch In Time</th>
                                        <th>Expected Out Time</th>
                                        <th>Punch Out Time</th>
                                        <th>Work Hours(HH:MM)</th>
                                        <th *ngIf="roleid==2">Actions</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr
                                        *ngFor="let attendance of attendancelist1|filter:term|filter:date|paginate: { itemsPerPage: count1, currentPage: p }">
                                        <!-- <td *ngIf="roleid==2"><input *ngIf="attendance.approve!=1" type="checkbox"
                                                (click)="getCheckbocdetails(attendance)"> </td> -->
                                        <td><input type="checkbox" [(ngModel)]="attendance.checked"
                                                [value]="attendance.value"
                                                (click)="getCheckbocdetails(attendance,$event)"></td>
                                        <td>{{attendance.signinDate|date}}</td>
                                        <td>{{attendance.name}}</td>
                                        <td>General Shift</td>
                                        <td>
                                            <p *ngIf="attendance.expectedIn!=null">
                                                {{attendance.expectedIn|date:'hh:mm'}}</p>
                                            <p *ngIf="attendance.expectedIn==null">Shift not Added</p>

                                        </td>
                                        <td>
                                            <p class="numberblue">{{attendance.signinDate|date:'hh:mm'}}</p>
                                        </td>
                                        <td>
                                            <p *ngIf="attendance.expectedOut!=null">
                                                {{attendance.expectedOut|date:'hh:mm'}}</p>
                                            <p *ngIf="attendance.expectedOut==null">Shift not Added</p>
                                        </td>
                                        <td class="numberblue"
                                            ng-if="attendance.signoutDate|date:'06:00' > attendance.signoutDate|date:'hh:mm'">
                                            {{attendance.signoutDate|date:'hh:mm'}}</td>
                                        <td>{{attendance.hr1|date:"HH:mm"}}</td>
                                        <td class="txt" *ngIf="roleid==2">
                                            <img *ngIf="attendance.approve!=1" class="img"
                                                (click)="ApproveAttendanceRegularisation(attendance.id)"
                                                src="assets/Images/check-mark.png">
                                            <img (click)="RejctAttendanceRegularisation(attendance.id)"
                                                *ngIf="attendance.approve!=1" class="imgcancel"
                                                src="assets/Images/cancel (1).png">
                                            <p *ngIf="attendance.approve==1">Approved</p>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                            <div class="text-left">
                                <br>
                                <pagination-controls (pageChange)="p = $event" class="poppinns"></pagination-controls>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngSwitchCase="'tab2'" id="tab2">
                    <div class="row">
                        <div class="col-md-10">
                            <br>
                            <p class="show3res">SHOWING <span> {{attendancelist2?.length}} </span>RESULTS
                            </p>
                        </div>
                    </div><br>
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-12">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Employee Name</th>
                                            <th>Shift</th>
                                            <th>Expected In Time</th>
                                            <th>Punch In Time</th>
                                            <th>Expected Out Time</th>
                                            <th>Punch Out Time</th>
                                            <th>Work Hours(HH:MM)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let attendance of attendancelist2|filter:term|filter:date">
                                            <td>{{attendance.signinDate|date}}</td>
                                            <td>{{attendance.name}}</td>
                                            <td>General Shift</td>
                                            <td>10:00</td>
                                            <td>
                                                <p class="numberblue">{{attendance.signinDate|date:'hh:mm'}}</p>
                                            </td>
                                            <td>5:00</td>
                                            <td class="numberblue"
                                                ng-if="attendance.signoutDate|date:'06:00' > attendance.signoutDate|date:'hh:mm'">
                                                {{attendance.signoutDate|date:'hh:mm'}}</td>
                                            <td>{{attendance.hr1|date:"HH:mm"}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngSwitchCase="'tab3'" id="tab3">
                    <div class="row">
                        <div class="col-md-10">
                            <br>
                            <p class="show3res">SHOWING <span> {{attendancelist3?.length}} </span>RESULTS
                            </p>
                        </div>
                    </div><br>
                    <div class="container-fluid">
                        <div class="row">
                            <div class="col-md-12">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Date</th>
                                            <th>Employee Name</th>
                                            <th>Shift</th>
                                            <th>Expected In Time</th>
                                            <th>Punch In Time</th>
                                            <th>Expected Out Time</th>
                                            <th>Punch Out Time</th>
                                            <th>Work Hours(HH:MM)</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let attendance of attendancelist3|filter:term|filter:date">
                                            <td>{{attendance.signinDate|date}}</td>
                                            <td>{{attendance.name}}</td>

                                            <td>General Shift</td>
                                            <td>10:00</td>
                                            <td>
                                                <p class="numberblue">{{attendance.signinDate|date:'hh:mm'}}</p>
                                            </td>
                                            <td>5:00</td>
                                            <td class="numberblue"
                                                ng-if="attendance.signoutDate|date:'06:00' > attendance.signoutDate|date:'hh:mm'">
                                                {{attendance.signoutDate|date:'hh:mm'}}</td>
                                            <td>{{attendance.hr1|date:"HH:mm"}}</td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <br>
</div>
<br />
<br />
<br />
<br />
<br />