<app-loader *ngIf="loader"></app-loader>
<div class="container-fluid">
    <div class="row">
      <div class="col-lg-11">
  
        <label class="Heading">Component Mapping Dashboard</label>
      </div>
    </div>
    <div class="card">
      <br>
      <div class="row">
          <div class="col-lg-1">
            <img src="assets/Images/filter.svg" class="filter-img">
              <p class="filter">Filter By</p>
          </div>
          <!-- <div class="col-lg-2">
              <input type="date" class="form-control">
          </div> -->
          <div class="col-lg-5" style="margin-left: 15px;">
              <input type="text" placeholder="Search" id="term" [(ngModel)]="term" class="form-control">
          </div>

          <div class="col-lg-3" style="text-align: center;">

          </div>

      </div> <br>
  </div><br>
    <div class="row">
      <div class="col-lg-8"> </div>
      <div class="col-md-3">
        <br />

        <button class="form-control AddExpense3" 
          data-toggle="modal" data-target="#import">Upload Components
            
        </button>
    </div>
    </div>
    <br />
    <div class="row" >
      <div class="col-lg-12">
        <div>
          <table class="table">
            <tr>
              <th>Payroll Component Type</th>
              <th>Code</th>
              <th>Component Name</th>
              <th>Taxable</th>
              <th>Pay Period</th>
              <th>Actions</th>
            </tr>
            <tr></tr>
            <tr *ngFor="let list of componentmapping|filter:term|paginate: { itemsPerPage: count2, currentPage: p1}
            ">
              <td>{{ list.payrollComponentType }}</td>
              <td>{{ list.code }}</td>
              <td>{{ list.componentName }}</td>
              <td>
                <p *ngIf="list.taxFlag==true">Yes</p>
                <p *ngIf="list.taxFlag==false">No</p>
               </td>
               <td>{{ list.payrollPeriod }}</td>

              <td>

              
                <button (click)="delete(list.id)" class="upload">Delete</button>
              </td>
            </tr>
          </table>
        </div>
      </div>
     

    </div>
    <div class="text-right">
      <br>
      <pagination-controls (pageChange)="p1 = $event"  previousLabel=""
      nextLabel="" class="poppinns"></pagination-controls>    
    </div>
  </div>


  <div id="import" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Payroll Inputs </h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-8">
                        <input type="file" accept=".xls,.xlsx" style="display: inline-block;"
                            (change)="incomingfile($event)" placeholder="Upload file" accept=".xlsx">
                    </div>
                    <div class="col-lg-4">
                        <a href="https://103.12.1.76//DigiPVTAPI/Templates/Import_PayrollSummaryReport.xlsx" style="color:navy"><u>Template.XLSX</u></a>
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-lg-6">
                        <button type="button" class="form-control AddExpense" data-dismiss="modal"
                      (click)="Upload_file()" >Upload Payroll Summary </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>