<app-commonalertpage [messageId]="messageId" *ngIf="showPopup==1"></app-commonalertpage>
<app-spinner *ngIf="loader"></app-spinner>
<div class="row">
    <div class="col-md-12">
        <div class="row">
            <div class="col-lg-3">
                <span class="Heading">Holiday Dashboard
                    <hr class="line-border listForm">
                </span>

            </div>
        </div>
        <div class="row FilterClass">
            <div class="col-lg-12">
                <div class="card">
                    <div class="row">
                        <div class="col-lg-1">
                            <img src="assets/Images/filter.svg" class="filter-img">
                            <p class="filter">Filter By</p>
                        </div>
                        <div class="col-lg-4 fontstyle">
                            <input class="form-control search-icon" type="search" placeholder="Search.."
                                [(ngModel)]="term" name="term">
                        </div>
                        <div class="col-lg-2">
                            <a *ngIf="roleid==1||roleid==9||roleid==10||roleid==11" (click)="addholiday()"><button
                                    class="Addbutton"><img src="assets/Images/plus.svg" class="plus-icon">Add Holiday</button> </a>
                        </div>
                        <div class="col-lg-2"></div>
                    </div>
                </div>
            </div>
        </div><br>
        <div class="row">
            <div class="">
                <p class="show3res">SHOWING <span> {{(holidaylist|filter:term)?.length}}
                    </span>RESULTS</p>

            </div>
 
        </div><br>
        <div class="row">
            <div class="col-md-12">
                <div class="container-fluid">
                    <table class="table" *ngIf="((holidaylist|filter:term | paginate: { itemsPerPage: count1, currentPage: p})?.length) > 0; else noResults">
                        <thead>
                            <tr>
                                <th>Holiday</th>
                                <th>Holiday Description</th>
                                <th>Holiday Date</th>
                                <th>Attachment</th>
                                <th *ngIf="roleid=='9'||roleid=='10'||roleid=='11'">Actions</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr
                                *ngFor="let holiday of holidaylist|filter:term|paginate: { itemsPerPage: count1, currentPage: p}">
                                <td>{{holiday.holiday}}</td>
                                <td>{{holiday.holidayDescription}}</td>
                                <td>{{holiday.holidayDate|date}}</td>
                                <td>
                                    <img src="{{holiday.attachment}}" (click)="getmedicalUrl(holiday.attachment)"
                                        data-toggle="modal" data-target="#Allocate" class="attachmentAlignment">
                                </td>
                                <td *ngIf="roleid=='9'||roleid=='10'||roleid=='11'"> <button class="edit-btn"
                                   (click)="Edit(holiday.id)"
                                     
                                       >Edit</button> 
                                       <button
                                        class="edit-btn" 
                                        (click)="DeleteHolidays(holiday.id)">Delete</button>
                                    <!--    <button class="upload" (click)="DeleteHolidays(holiday.id)">Delete</button> -->
                                </td>
                            </tr>
                        </tbody>
                    </table>

                    <div cladd="row">
                        <div class="align-center-pagination">
                            <div class="text-left" *ngIf="holidaylist?.length>count1">
                                <pagination-controls (pageChange)="p = $event" previousLabel="" nextLabel=""
                                    class="poppinns"></pagination-controls>
                            </div>
                        </div>
                    </div>
                    <!-- <div class="text-left">
                        <br>
                        <pagination-controls (pageChange)="p = $event" class="poppinns"></pagination-controls>
                    </div> -->
                    <div class="row">
                        <div class="">
                            <ng-template #noResults>
                                <p class="NoResultShow"> No results found </p>
                            </ng-template>
                        </div>
                    </div>
                
                </div>
            </div>
            <div class="col-md-1"></div>
        </div>
    </div>
</div>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<div id="Allocate" class="modal fade" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content ">
            <div class="modal-header">
                <div class="row">
                    <div class="col-lg-8">
                        <h1></h1>
                    </div>
                </div>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body ">
                <div class="container-fluid">
                    <div class="row rowalignment">
                        <div class="col-lg-4">
                        </div>
                        <img src="{{file}}" alt="medical.img" class="imagestyle">
                    </div>
                    <br />
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>
</div>