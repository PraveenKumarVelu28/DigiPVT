<<<<<<< HEAD

<div class="container-fluid">
    <br />
    <div class="row card card1">
        <div class="row">
            <div class=" col-lg-3">
                <p>Select Paycode
                    <div class="dropdown">
                        <select class="form-control inputfield" id="PaycodeID" name="PaycodeID"
                            [(ngModel)]="PaycodeID" (change)="GetStartdate()" style="margin-top: 25px;">
                            <option value="" [disabled]="true">Select Paycode </option>
                            <option *ngFor="let role of PayPeriodSettingList" value="{{role.id}}">{{role.payCode}}</option>
                        </select>
                    </div>
            </div>
           

            <div class="col-lg-2">
                <br/>
                <br/> 
                <button class="button" data-toggle="collapse" data-target="#employee"
                    (click)="getemployeedetails()">Fetch
                    Employees</button>
            </div>
            <div class=" col-lg-2">
                <p>Search
                    <br/>
                    <br/>
                <input class="form-control" (ngModelChange)="FilterPayroll()" placeholder="Search" type="text"
                    [(ngModel)]="Search">
            </div>

            <div class="col-lg-2">
                <p>Select Position
                <div class="dropdown">
                    <select class="form-control  " id="Year" name="Year" [(ngModel)]="Role"
                        (ngModelChange)="Rolefilter()"><br />
                        <option style="color:#0C275A" value="Select" [disabled]="true">Select Position </option>
                        <option *ngFor="let item of RoleTypeList" value="{{item.short}}">{{item.short}}
                    </select>
                </div>
            </div>

            <div class="col-lg-2">
                <p>Select Department
                <div class="dropdown">
                    <select class="form-control  " id="Year" name="Year" [(ngModel)]="department_name"
                        (ngModelChange)="Departmentfilter()"><br />
                        <option style="color:#0C275A" value="Select" [disabled]="true">Select Department</option>
                        <option *ngFor="let item of result" value="{{item.department_name}}">{{item.department_name}}
                    </select>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-4">

            </div>
            <!-- <div class="col-lg-4">
                <button class="button" data-toggle="collapse" data-target="#employee1"
                (click)="getemployeedetails2()">Run 13th Month Payroll</button>
            </div> -->
        </div>
        <br />

    </div>
    <div class="row">
        <div class="col-lg-2"></div>
        <div class="col-lg-2"></div>

        <div class="col-lg-2">
            <br />

            <button (click)="SelectAll()" class="form-control CancelBTN" style="width: 70%;" type="button"
                id="btn_button" *ngIf="selecallbtn==true">Run Payroll</button>
            <button (click)="Accept()" class="form-control CancelBTN" style="width: 70%;" type="button" id="btn_button"
                *ngIf="seleconebtn==true">Run Payroll</button>
        </div>
    </div>
    <br />

    <div class="row">
        <div class="col-lg-4">

        </div>
        <div class="col-lg-5">

        </div>
        <div class="col-lg-3">
            <!-- <p>Total Count: {{uniquelist.length}} </p> -->
        </div>

    </div>

    <div class="row rowwidth collapse" id="employee1" style="height:500px;">
        <div class="col-lg-12">
            <table class="table table-bordered fonttxt" id="downloadaplication" style="height:300px">
                <thead>
                    <tr>
                        <th><input type="checkbox" (click)="selectALL(true)"></th>
                        <th>Employee Id</th>
                        <th>Employee Name</th>
                        <th>Department</th>
                        <th>Position</th>
                        <th>Phone Number</th>
                        <th>Email</th>
                        <th>Date Of Joining</th>
                        <th>Manager</th>

                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of thirteenthmonthpayroll">
                        <td>
                            <input type="checkbox" [(ngModel)]="item.checked" [value]="item.value"
                                (click)="getCheckbocdetails(item)">&nbsp;
                        </td>

                        <td>000{{item.id}}</td>
                        <td>{{item.firstAndLastName}}</td>
                        <td>{{item.department_name}}</td>
                        <td>{{item.role}}</td>

                        <td>{{item.mobile}}</td>
                        <td>{{item.emailID}}</td>

                        <td>{{item.joiningDate|date}}</td>

                        <td>
                            <p *ngIf="item.manager==null">
                                NA
                            </p>
                            <p *ngIf="item.manager!=null">
                                {{item.manager}}
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="text-right">
            <br>
            <pagination-controls (pageChange)="p = $event" class="poppinns"></pagination-controls>
        </div>
        <ng-template #noResults>
            <div class="card">
                <p class="NoResultShow"> No results found</p>
            </div>
        </ng-template>
    </div>


    <!-- <div class="row">
        <div class="col-lg-4"></div>
        <div class="col-lg-4"></div>
        <div class="col-lg-4">
            <p style="margin-left: 83px;">Grand Total:1,01,076.55</p>
        </div>
        
    </div> -->
    <br />
    <br />
    <div class="row rowwidth collapse" id="employee" style="height:500px;">
        <div class="col-lg-12">
            <table class="table table-bordered fonttxt" id="downloadaplication" style="height:300px;">
                <!-- *ngIf="(uniquelist |paginate: { itemsPerPage: count1, currentPage: p}).length > 0; else noResults" -->
                <thead>
                    <tr>
                        <th><input type="checkbox" (click)="selectALL1($event)"></th>
                        <th>Employee Id</th>
                        <th>Employee Name</th>
                        <th>Department</th>
                        <th>Position</th>
                        <th>Phone Number</th>
                        <th>Email</th>
                        <th>Weekend Days</th>

                        <th>No Of Days Worked</th>
                        <th>Total Days</th>
                        <th>Leave Days</th>
                        <th>Lop</th>
                        <th>Date Of Joining</th>
                        <th>Manager</th>

                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let item of uniquelist|paginate: { itemsPerPage: count1, currentPage: p}">
                        <td>
                            <input type="checkbox" [(ngModel)]="item.checked" [value]="item.value"
                                (click)="getCheckbocdetails(item)">&nbsp;
                        </td>

                        <td>000{{item.id}}</td>
                        <td>{{item.firstAndLastName}}</td>
                        <td>{{item.department_name}}</td>
                        <td>{{item.role}}</td>

                        <td>{{item.mobile}}</td>
                        <td>{{item.emailID}}</td>
                        <td>{{item.weekenddays}}</td>
                        <td>{{item.daysworked-item.weekenddaysworked}}</td>
                        <td>{{(item.daysworked-item.weekenddaysworked)+item.weekenddays}}</td>
                        <td>{{item.leavedays}}</td>
                        <td>{{item.lopdays}}</td>
                        <td>{{item.joiningDate|date}}</td>

                        <td>
                            <p *ngIf="item.manager==null">
                                NA
                            </p>
                            <p *ngIf="item.manager!=null">
                                {{item.manager}}
                            </p>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div class="text-right">
            <br>
            <pagination-controls (pageChange)="p = $event" class="poppinns"></pagination-controls>
        </div>
        <ng-template #noResults>
            <div class="card">
                <p class="NoResultShow"> No results found</p>
            </div>
        </ng-template>
    </div>
    <br />
    <br />

    <br />
    <br />


</div>
=======
<div class="container-fluid">
    <div class="row">
        <div class="col-md-12">
            <div class="row">
                <div class="col-md-12">
                    <h3 class="Heading">Bonus Validation</h3>
                </div>
            </div>
            <br>
            <div class="card filtercard">
                <div class="row">
                    <div class="col-lg-1">
                        <img src="assets/Images/filter.svg" class="filter-img">
                          <p class="filter">Filter By</p>
                      </div>
                    <div class="col-md-2">
                        <p>Start Date
                            <input class="form-control input-date  " type="date" onkeydown="return false"placeholder="Duration" id="sdate" name="sdate"
                                [(ngModel)]="sdate"    >
                        
                    </div>
                    <div class="col-md-2">
                        <p>End Date 
                            <input class="form-control input-date  " type="date" onkeydown="return false"placeholder="Duration" id="edate" name="edate"
                            [(ngModel)]="edate"    (change)="filterbydate()">
                    </div>
                    
                    <div class="col-md-4">
                        <p><br>
                            <input class="form-control" id="term" name="term" [(ngModel)]="term" type="search"
                                (ngModelChange)="FilterAttendence()" placeholder="Search for staff.. ">
                    </div>
                    <div class="col-md-3">
                       <br/>

                        <button class="form-control AddExpense" data-toggle="modal" data-target="#import" style="width: 80%;">Upload
                            StaffLeaves</button>
                    </div>
                    
                </div>
            </div>
            <br>
            <br>
            <div class="row">
                <div class="col-lg-8"></div>
             <div class="col-lg-4">
                <Button class="AddButton" (click)="ExporttoExcel()">Export to Excel</Button>
             </div>
            </div>
            <br>
          
            <div class="row">
                <br>
                        <div class="row">
                            <div class="col-md-12">
                                <p class="show3res" >SHOWING <span>{{stafflist.length}}</span> RESULTS </p>    
                            </div>
                        </div><br>                   
                        <br />             
                        <div class="col-md-12" >
                            <div class="container-fluid">
                                <table class="table" >
                                    <thead>
                                        <tr class="thwidth">
                                            <th>Name</th>
                                            <th>From Date</th>
                                            <th>To Date</th>
                                            <th>Leave Type</th>
                                            <th>Leave Reason</th>
                                            <th>Leave Days Count</th> 
                                        </tr>
                                        <tr
                                            *ngFor="let leaves of stafflist| filter:term ">
                                            <td>{{leaves.staffName}} </td>
                                            <td>{{leaves.sDateOfLeave}} </td>
                                            <td>{{leaves.eDateOfLeave}} </td>
                                            <td>{{leaves.leavetype}}<br>
                                            <td>{{leaves.leaveReason}}<br>
                                            <td>{{leaves.noOfDays}}<br>                                            
                                        </tr>
                                    </thead>
                                </table>                          
                                <!-- <span *ngIf="preapprovaldetails1.length==0"><b>No Results Found</b></span> -->
                            </div>
                    </div>
                <div class="col-md-1"></div>
            </div>
        </div>
        <div class="row">
            <div class="col-lg-5"></div>
            <div class="col-lg-2">
            </div>
            <div class="col-lg-5"></div>
        </div>
    </div>
    <div class="col-md-1"></div>
</div>
<br />
<br />
<br />
<br />

<br />
<br />



<div id="import" class="modal fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Upload Leaves</h4>
                <button type="button" class="close" data-dismiss="modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="row">
                    <div class="col-lg-8">
                        <input type="file" accept=".xls,.xlsx" style="display: inline-block;"
                            (change)="incomingfile($event)" placeholder="Upload file" accept=".xlsx">
                    </div>
                    <div class="col-lg-4">
                        <a href="https://103.12.1.76//DigiPVTAPI/UploadStaffLeavesTemplate.xlsx" style="color:navy"><u>Template.XLSX</u></a>
                    </div>
                </div>
                <br>
                <div class="row">
                    <div class="col-lg-6">
                        <button type="button" class="save-btn" style="width: 70%;" data-dismiss="modal"
                            (click)="Upload_file()">Upload
                            Leaves</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

>>>>>>> 5a63adf466ebec4f8788ab78c6b6ca0ee55a61b6
